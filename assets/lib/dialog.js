import Modernizr from 'modernizr';!function(i){"use strict";function t(i){return new RegExp("(^|\\s+)"+i+"(\\s+|$)")}var e,o,s;function n(i,n){(e(i,n)?s:o)(i,n)}"classList"in document.documentElement?(e=function(i,n){return i.classList.contains(n)},o=function(i,n){i.classList.add(n)},s=function(i,n){i.classList.remove(n)}):(e=function(i,n){return t(n).test(i.className)},o=function(i,n){e(i,n)||(i.className=i.className+" "+n)},s=function(i,n){i.className=i.className.replace(t(n)," ")});var a={hasClass:e,addClass:o,removeClass:s,toggleClass:n,has:e,add:o,remove:s,toggle:n};"function"==typeof define&&define.amd?define(a):i.classie=a;var l=Modernizr.cssanimations,r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")];function c(i,n){for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function d(i,n){this.el=i,this.options=c({},this.options),c(this.options,n),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}d.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},d.prototype._initEvents=function(){var n=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(i){27===(i.keyCode||i.which)&&n.isOpen&&n.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},d.prototype.toggle=function(){var i,n,t,e=this;this.isOpen?(a.remove(this.el,"dialog--open"),a.add(e.el,"dialog--close"),i=this.el.querySelector(".dialog__content"),n=function(){a.remove(e.el,"dialog--close")},t=function(i){if(l){if(i.target!=this)return;this.removeEventListener(r,t)}n&&"function"==typeof n&&n.call()},l?i.addEventListener(r,t):t(),this.options.onCloseDialog(this)):(a.add(this.el,"dialog--open"),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},i.DialogFx=d}(window);
